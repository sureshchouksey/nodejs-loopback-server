{"version":3,"sources":["./src/app/pages/contractor/edit-contractor/edit-contractor-routing.module.ts","./src/app/pages/contractor/edit-contractor/edit-contractor.component.html","./src/app/pages/contractor/edit-contractor/edit-contractor.component.ts","./src/app/pages/contractor/edit-contractor/edit-contractor.module.ts"],"names":[],"mappings":"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","file":"edit-contractor.module.chunk.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { EditContractorComponent } from './edit-contractor.component';\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: EditContractorComponent,\r\n    data: {\r\n      title: 'Edit Book'\r\n    }\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class EditContractorRoutingModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/pages/contractor/edit-contractor/edit-contractor-routing.module.ts","module.exports = \"<div class=\\\"overlay\\\" *ngIf=\\\"loading\\\">\\r\\n    <i class=\\\"fa fa-spinner fa-pulse fa-3x fa-fw contCenter\\\"></i> <span class=\\\"sr-only\\\">Loading...</span>\\r\\n</div>\\r\\n<div class=\\\"animated fadeIn\\\" *ngIf=\\\"!loading\\\">\\r\\n    <div class=\\\"row\\\">\\r\\n        <div class=\\\"col-lg-12\\\">\\r\\n            <div class=\\\"card\\\">\\r\\n                <div class=\\\"card-header\\\">\\r\\n                    <button type=\\\"button\\\" class=\\\"backBtn\\\" tabindex=\\\"0\\\" [routerLinkActive]=\\\"['active']\\\" [routerLink]=\\\"['/contractor']\\\"><i class=\\\"fa fa-angle-left\\\" aria-hidden=\\\"true\\\"></i> Back</button>\\r\\n                    <div>\\r\\n                        Edit Book\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div class=\\\"row\\\">\\r\\n                    <form #contractorEditForm=\\\"ngForm\\\">\\r\\n                        <div class=\\\"col-md-12\\\">\\r\\n                            <div class=\\\"card-Wrapper\\\">\\r\\n                                <div class=\\\"card-block\\\">\\r\\n                                    <div class=\\\"primaryDetails\\\">\\r\\n                                        <div class=\\\"row\\\">\\r\\n                                            <div class=\\\"col-md-5\\\">\\r\\n                                                <div class=\\\"form-group\\\">\\r\\n                                                    <label for=\\\"name\\\">Contractor Name</label>\\r\\n                                                    <input type=\\\"text\\\" class=\\\"form-control\\\" disabled id=\\\"contractorNameId\\\" required name=\\\"contractorName\\\" placeholder=\\\"Enter book name\\\" [(ngModel)]=\\\"contractorName\\\" #contractorNameId=\\\"ngModel\\\" pattern=\\\"^[^-\\\\s][a-zA-Z0-9 '\\\\s-]+$\\\" maxlength=\\\"50\\\">\\r\\n\\r\\n                                                </div>\\r\\n                                            </div>\\r\\n                                            <div class=\\\"col-md-5\\\">\\r\\n                                                <div class=\\\"form-group\\\">\\r\\n                                                    <label for=\\\"email\\\">Contractor Email Id</label>\\r\\n                                                    <input type=\\\"text\\\" class=\\\"form-control\\\" disabled id=\\\"contractorEmailid\\\" required name=\\\"contractorEmailId\\\" placeholder=\\\"Enter Contractor Email Id\\\" [(ngModel)]=\\\"contractorEmailId\\\" #contractorEmailid=\\\"ngModel\\\" maxlength=\\\"70\\\">\\r\\n\\r\\n                                                </div>\\r\\n                                            </div>\\r\\n                                            <div class=\\\"col-md-3\\\">\\r\\n                                                <div class=\\\"form-group\\\">\\r\\n                                                    <label for=\\\"status\\\">Contractor Status</label>\\r\\n                                                    <p-toggleButton name=\\\"contractor_status\\\" [(ngModel)]=\\\"contractor_status\\\" #contractorStatusid=\\\"ngModel\\\" onLabel=\\\"Active\\\" offLabel=\\\"Inactive\\\" onIcon=\\\"fa-check-square\\\" offIcon=\\\"fa-square\\\" [style]=\\\"{'width':'150px'}\\\" (onChange)=\\\"contractorStatusChanged($event)\\\"></p-toggleButton>\\r\\n                                                </div>\\r\\n                                            </div>\\r\\n\\r\\n                                            <!-- <div class=\\\"form-group col-sm-4\\\">\\r\\n                                                <label for=\\\"profilePhoto\\\">Logo Image*</label>\\r\\n                                                <input (change)=\\\"onFileChange($event)\\\" type=\\\"file\\\" class=\\\"form-control\\\" id=\\\"logo\\\" name=\\\"logo\\\" [(ngModel)]=\\\"logoImage\\\" #idCardPhoto=\\\"ngModel\\\">\\r\\n                                                <label>jpg/jpeg/png(max 5Mb)</label>\\r\\n                                                <div class=\\\"row\\\" *ngIf=\\\"imgErrDisplay\\\" class=\\\"error\\\">\\r\\n                                                    <span>\\r\\n                                                        {{imgErr}}\\r\\n                                                    </span>\\r\\n                                                </div>\\r\\n                                            </div> -->\\r\\n                                            <!-- <div class=\\\"form-group col-sm-2\\\">\\r\\n                                                < ! - - <button class=\\\"removeBtn\\\" type=\\\"button\\\" (click)=\\\"removeimage('doc',i)\\\" label=\\\"Show\\\">\\r\\n                                                    <i class=\\\"fa fa-times\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                                                </button> - - >\\r\\n                                                <img *ngIf=\\\"show!=''\\\" src=\\\"{{bookImage}}\\\" width=\\\"150\\\" height=\\\"100\\\" />\\r\\n                                            </div>\\r\\n                                            <div class=\\\"col-md-5\\\">\\r\\n                                                <div class=\\\"form-group\\\">\\r\\n                                                    <label for=\\\"desc\\\">Description*</label>\\r\\n                                                    <textarea class=\\\"form-control\\\" id=\\\"desc\\\" required name=\\\"desc\\\" [(ngModel)]=\\\"description\\\" #desc=\\\"ngModel\\\">\\r\\n                                                    </textarea>\\r\\n                                                    <div class=\\\"error-place\\\">\\r\\n                                                        <div *ngIf=\\\"desc.errors && (desc.dirty || desc.touched || submitted)\\\" class=\\\"error\\\">\\r\\n                                                            <span *ngIf=\\\"desc.errors.required\\\">Description is required.</span>\\r\\n                                                            < ! - - <span *ngIf=\\\"description.errors.pattern\\\">Please enter a valid address.</span> - - >\\r\\n                                                        </div>\\r\\n                                                    </div>\\r\\n                                                </div>\\r\\n                                            </div> -->\\r\\n                                            <div class=\\\"col-md-5\\\" *ngIf=\\\"appDataArr.length > 0\\\">\\r\\n                                                <div class=\\\"form-group\\\">\\r\\n                                                    <label for=\\\"desc\\\">Select App</label>\\r\\n                                                    <div class=\\\"ui-g-100 \\\" style=\\\"width:30px;margin-bottom:10px\\\">\\r\\n                                                        <div class=\\\"ui-g-12\\\" *ngFor=\\\" let appItem of appDataArr\\\">\\r\\n                                                            <p-checkbox name=\\\"contractorAppId\\\" [disabled]=\\\"!contractor_status\\\" [value]=\\\"appItem.appId\\\" label=\\\"{{appItem.appName}}\\\" [(ngModel)]=\\\"contractorAppId\\\"></p-checkbox>\\r\\n                                                        </div>\\r\\n                                                    </div>\\r\\n                                                </div>\\r\\n                                            </div>\\r\\n                                        </div>\\r\\n                                    </div>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                        <div class=\\\"col-md-12\\\">\\r\\n                            <div class=\\\"buttonContainer\\\">\\r\\n                                <div class=\\\"form-group\\\">\\r\\n                                    <button *ngIf=\\\"!loading\\\" class=\\\"btn darkBtn\\\" type=\\\"button\\\" (click)=\\\"submit(contractorEditForm)\\\">Submit</button>\\r\\n                                    <div class=\\\"loader\\\" *ngIf=\\\"loading\\\"><i class=\\\"fa fa-spinner fa-spin fa-2x fa-fw\\\"></i></div>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                    </form>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n<div class=\\\"dargPop\\\">\\r\\n    <p-dialog [modal]=\\\"true\\\" (onHide)=\\\"goToListing()\\\" [(visible)]=\\\"display\\\" *ngIf=\\\"result == 'success'\\\">\\r\\n        <h6>Contractor Updated Successfully</h6>\\r\\n    </p-dialog>\\r\\n    <p-dialog header=\\\"New Book Added\\\" [modal]=\\\"true\\\" [(visible)]=\\\"display\\\" *ngIf=\\\"result != 'success'\\\">\\r\\n        <p>{{result}}</p>\\r\\n    </p-dialog>\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/pages/contractor/edit-contractor/edit-contractor.component.html\n// module id = ./src/app/pages/contractor/edit-contractor/edit-contractor.component.html\n// module chunks = edit-contractor.module","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { NgForm, NgModel, NgControl, FormsModule } from '@angular/forms';\r\nimport { LoopBackAuth, ContainerApi,Contractor_profileApi, App_detailsApi } from '../../../../shared/loopback-sdk';\r\nimport { CookieService } from 'angular2-cookie/core';\r\nimport { Headers, Http, Response } from '@angular/http';\r\nimport { stringify } from 'querystring';\r\nimport { ShareService } from '../../../../providers/share-service/share-service';\r\ndeclare var window: any;\r\ndeclare var hostname: any;\r\ndeclare var sdkPrefix;\r\n@Component({\r\n\ttemplateUrl: 'edit-contractor.component.html'\r\n})\r\nexport class EditContractorComponent {\r\n\t@ViewChild('name') name: NgModel;\r\n\t@ViewChild('priority') priority: NgModel;\r\n\tpublic id: number;\r\n\tdisplay: boolean = false; result: any;\r\n\tsubmitted: boolean = false;\r\n\tcontractorName: any;\r\n\tcontractorEmailId:any;\r\n\tbusy: any;\r\n\tuserDetails: any;\r\n\trolename: any;\r\n\tdescription: any = \"\";\r\n\timage: any;\r\n\timgErrDisplay: boolean = false;\r\n\tloading: boolean = false;\r\n\timgErr: any = '';\r\n\tdata: any;\r\n\tallData: any = [];\r\n\timgName:any;\r\n\tcontractorApp:any = [];\r\n\tcontractorProfilePic:any;\r\n\tcontractor_status=false;\r\n\tappDataArr:any = [];\r\n\tcontractorAppId:any[]=[];\r\n\tloginFlagToken:any;\r\n\r\n\tconstructor(private loopAuth: LoopBackAuth, private route: ActivatedRoute, private http: Http, private _cookieService: CookieService, private router: Router, private containerApi: ContainerApi, private share: ShareService,private contractorProfileApi:Contractor_profileApi,private appDetailsApi:App_detailsApi) {\r\n\t\tthis.userDetails = this.loopAuth.getCurrentUserData();\r\n\t\tthis.rolename = this.userDetails.userDet.roles;\r\n\t\tthis.id = this.route.snapshot.params['id'];\r\n\t\tthis.loginFlagToken = this._cookieService.get(sdkPrefix+'id');\r\n\t}\r\n\r\n\tngOnInit(): void {\r\n\t\tvar dataArrObj = {\r\n\t\t\t\"contractor_id\":this.id\r\n\t\t}\r\n\r\n\t\tthis.appDetailsApi.find({\"where\":{\"status\":1}}).subscribe(appResultdata=>{\r\n\t\t\t\r\n\t\t\tif(appResultdata.length){\r\n\t\t\t\tfor (const key in appResultdata) {\r\n\t\t\t\t\tlet appObj = {\r\n\t\t\t\t\t\tappId : appResultdata[key]['app_id'],\r\n\t\t\t\t\t\tappName : appResultdata[key]['app_name'],\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.appDataArr.push(appObj);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t//console.log(\"app Array\",this.appDataArr);\r\n\t\t\t//console.log(\"App Result data\",appResultdata);\r\n\t\t});\r\n\r\n\t\tthis.contractorProfileApi.get_contractor_details(dataArrObj).subscribe(data=>{\r\n\t\t\tif(data){\r\n\t\t\t\tvar contractorData  = data.data.contractorDetails;\r\n\t\t\t\tvar appArr = data.data.apps;\r\n\r\n\t\t\t\tthis.contractorName = contractorData.name_of_contractor;\r\n\t\t\t\tthis.contractorEmailId = contractorData.contractor_email_id;\r\n\t\t\t\tthis.contractorProfilePic = hostname+\"/api/containers/contractorImage/download/\"+contractorData.contractor_photo+'?access_token='+this.loginFlagToken;\r\n\t\t\t\tthis.contractor_status = contractorData.status;\r\n\r\n\t\t\t\tif(appArr.length > 0){\r\n\t\t\t\t\tfor (const key in appArr) {\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tthis.contractorApp.push(appArr[key].app_id);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.contractorAppId = this.contractorApp;\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t});\r\n\t\t\r\n\r\n\t\t// this.busy = this.books.getBooks(dataArrObj).subscribe(data=>{\r\n\t\t// \tif(data){\r\n\t\t// \t\tlet result = data.result[0];\r\n\t\t// \t\tthis.contractorName = result.name;\r\n\t\t// \t\tthis.description = result.description;\r\n\t\t// \t\tthis.bookPriority = result.priority;\r\n\t\t// \t\tif(result.logo_image){\r\n\t\t// \t\t\tthis.bookImage = result.logo_image+'?access_token='+this.loginFlagToken;\r\n\t\t// \t\t}\r\n\t\t// \t}\r\n\t\t// });\r\n\t}\r\n\r\n\tcontractorStatusChanged(event){\r\n\t\tif(!this.contractor_status){\r\n\t\t\tthis.contractorAppId = [];\r\n\t\t}\r\n\t}\r\n\r\n\tgoToListing() {\r\n\t\t// window.location.reload();\r\n\t\t//this.router.navigate([\"books\"]);\r\n\t\tthis.hideDialog();\r\n\t}\r\n\r\n\tshowDialog() {\r\n\t\tthis.display = true;\r\n\t}\r\n\thideDialog(){\r\n\t\tthis.result = '';\r\n\t\tthis.display = false;\r\n\t}\r\n\r\n\tasync submit(formData) {\r\n\t\tthis.submitted = true;\r\n\t\t//console.log(\"Form data :\",formData);\r\n\t\t\r\n\t\tvar contractorSubmitedValues={\r\n\t\t\t\"contractor_id\": this.id,\r\n\t\t\t\"app_id\": (formData.value.contractorAppId != undefined && formData.value.contractorAppId != null && formData.value.contractorAppId.length > 0)?formData.value.contractorAppId:[],\r\n\t\t\t\"status\": (formData.value.contractor_status)? 'Active':'Inactive'\r\n\t\t};\r\n\t\t//console.log(\"contractorSubmitedValues :\",contractorSubmitedValues);\r\n\t\r\n\t\t\tthis.loading = true;\r\n\t\t\tthis.contractorProfileApi.edit_contractor(contractorSubmitedValues).subscribe(()=>{\r\n\t\t\t\tthis.loading = false;\r\n\t\t\t\tthis.result = 'success';\r\n\t\t\t\tthis.showDialog();\r\n\t\t\t},(err)=>{\r\n\t\t\t\tthis.result = 'Something went wrong';\r\n\t\t\t\tthis.loading = false;\r\n\t\t\t\tthis.showDialog();\r\n\t\t\t});\r\n\t\t\r\n\r\n\r\n\t}\r\n\r\n\t// onFileChange(file) {\r\n\t// \tconsole.log(\"file\", file);\r\n\t// \tthis.imgErrDisplay = false;\r\n\t// \tthis.data = new FormData();\r\n\t// \tvar imageData = new FileReader();\r\n\t// \tif (file.target.files[0]) {\r\n\t// \t\tvar fileSize = Math.round((file.target.files[0].size) / 1024);\r\n\t// \t\tvar imgExt = file.target.files[0].name.split(\".\");\r\n\t// \t\tconsole.log(\"file.target.files[0].type\",file.target.files[0].type);\r\n\t// \t\tif (imgExt.length > 2) {\r\n\t// \t\t\tthis.imgErr = \"Invalid Image Format / Image name\";\r\n\t// \t\t\tthis.imgErrDisplay = true;\r\n\t// \t\t} else if (((file.target.files[0].type) != \"image/jpg\") && ((file.target.files[0].type) != \"image/png\") && ((file.target.files[0].type) != \"image/jpeg\")) {\r\n\t// \t\t\tthis.imgErr = \"Invalid Image Format\";\r\n\t// \t\t\tthis.imgErrDisplay = true;\r\n\t// \t\t} else if (fileSize > 7000) {//chk img size\r\n\t// \t\t\tthis.imgErr = \"Invalid Image Size\";\r\n\t// \t\t\tthis.imgErrDisplay = true;\r\n\t// \t\t} else {\r\n\t// \t\t\timageData.onload = (event: any) => {\r\n\t// \t\t\t\tvar img = new Image();\r\n\t// \t\t\t\timg.src = event.target.result;\r\n\t// \t\t\t\tif (img.width > 500 || img.height > 500) {\r\n\t// \t\t\t\t\tthis.imgErr = \"Invalid Image Dimension. It needs to be of max 500*500\";\r\n\t// \t\t\t\t\tthis.imgErrDisplay = true;\r\n\t// \t\t\t\t} else {\r\n\t// \t\t\t\t\tlet targetFile = file.target.files[0];\r\n\t// \t\t\t\t\tlet fileExtension = '.' + targetFile['name'].split('.').pop();\r\n\t// \t\t\t\t\tlet filename = Math.random().toString(36).substring(7) + new Date().getTime() + fileExtension;\r\n\t// \t\t\t\t\tthis.data.append(\"file\", file.target.files[0], filename);\r\n\t// \t\t\t\t\tthis.allData.push(this.data);\r\n\t// \t\t\t\t}\r\n\t// \t\t\t}\r\n\t// \t\t\timageData.readAsDataURL(file.target.files[0]);\r\n\t// \t\t}\r\n\t// \t}\r\n\t// }\r\n\r\n\t// uploadImage(fdata) {\r\n\t// \treturn new Promise((resolve, reject) => {\r\n\t// \t\tlet fileUrl = hostname+\"/api/containers/logo_image\";\r\n\t// \t\t//let fileUrl = \"http://phapi.experiencecommerce.com:4500/api/containers/logo_image\";\r\n\t// \t\tthis.loading = true;\r\n\t// \t\tthis.http.post(fileUrl + '/upload?access_token='+this.loginFlagToken, fdata).subscribe(res => {\r\n\t// \t\t\tvar dataimg = res['_body'];\r\n\t// \t\t\tdataimg = JSON.parse(dataimg);\r\n\t// \t\t\tif(dataimg){\r\n\t// \t\t\t\tlet imgName = dataimg['result']['files']['file'][0]['name'];\r\n\t// \t\t\t\tthis.imgName = fileUrl+\"/download/\"+imgName;\r\n\t// \t\t\t\tresolve(true);\r\n\t// \t\t\t}else{\r\n\t// \t\t\t\tresolve(false);\r\n\t// \t\t\t}\r\n\t// \t\t},err => {\r\n\t// \t\t\tthis.imgErr = \"Image upload failed\";\r\n\t// \t\t\t//this.imgshow = this.defaultImg;\r\n\t// \t\t\tthis.imgErrDisplay = true;\r\n\t// \t\t\tthis.loading = false;\r\n\t// \t\t\tresolve(false);\r\n\t// \t\t},\r\n\t// \t\t() => {\r\n\r\n\t// \t\t});\r\n\t// \t});\r\n\t// }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/pages/contractor/edit-contractor/edit-contractor.component.ts","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from \"@angular/forms\";\r\nimport { HttpModule } from \"@angular/http\";\r\nimport { EditContractorComponent } from './edit-contractor.component';\r\nimport { EditContractorRoutingModule } from './edit-contractor-routing.module';\r\nimport { DialogModule } from 'primeng/primeng';\r\nimport {BusyModule} from 'angular2-busy';\r\nimport {EditorModule} from 'primeng/primeng';\r\nimport {CheckboxModule,ToggleButtonModule} from 'primeng/primeng';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule, \r\n    FormsModule,\r\n    HttpModule,\r\n    EditContractorRoutingModule,\r\n    DialogModule,\r\n    EditorModule,\r\n    BusyModule,\r\n    CheckboxModule,\r\n    ToggleButtonModule\r\n  ],\r\n  declarations: [\r\n    EditContractorComponent\r\n  ]\r\n})\r\nexport class EditContractorModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/pages/contractor/edit-contractor/edit-contractor.module.ts"],"sourceRoot":"webpack:///"}