{"version":3,"sources":["./src/app/pages/password-reset/password_reset-routing.module.ts","./src/app/pages/password-reset/password_reset.component.html","./src/app/pages/password-reset/password_reset.component.ts","./src/app/pages/password-reset/password_reset.module.ts"],"names":[],"mappings":"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","file":"password_reset.module.chunk.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { PasswordResetComponent } from './password_reset.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: PasswordResetComponent,\r\n    data: {\r\n      title: 'Password Reset'\r\n    }\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class PasswordResetRoutingModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/pages/password-reset/password_reset-routing.module.ts","module.exports = \"<div class=\\\"app logincontainer flex-row align-items-center\\\">\\r\\n  <div class=\\\"container\\\">\\r\\n    <div class=\\\"row justify-content-center\\\">\\r\\n      <div class=\\\"col-md-5\\\">\\r\\n        <div class=\\\"card-group mb-0\\\">\\r\\n          <div class=\\\"card p-4\\\">\\r\\n            <div class=\\\"card-block\\\" [ngBusy]=\\\"{busy: busy, message: 'Logging...', backdrop: true, minDuration: 600}\\\" *ngIf=\\\"ifValid\\\">\\r\\n\\t\\t\\t        <img src=\\\"assets/img/logo-login.png\\\">\\r\\n              <p class=\\\"text-muted\\\">Reset Password</p>\\r\\n              <!-- <p-messages [value]=\\\"msgs\\\"></p-messages> -->\\r\\n              <div class=\\\"input-group mb-2\\\">\\r\\n                <span class=\\\"input-group-addon\\\"><i class=\\\"icon-lock\\\"></i></span>\\r\\n                <input type=\\\"password\\\" [(ngModel)]=\\\"passwordNew\\\" #password=\\\"ngModel\\\" class=\\\"form-control\\\" minlength=\\\"6\\\" required placeholder=\\\"Enter Password\\\">\\r\\n              </div>\\r\\n              <div class=\\\"input-group mb-4\\\">\\r\\n                <span class=\\\"input-group-addon\\\"><i class=\\\"icon-lock\\\"></i></span>\\r\\n                <input type=\\\"password\\\" [(ngModel)]=\\\"cpasswordNew\\\" #cpassword=\\\"ngModel\\\" class=\\\"form-control\\\" minlength=\\\"6\\\" required placeholder=\\\"Confirm Password\\\">\\r\\n              </div>\\r\\n              <br />\\r\\n              <div class=\\\"row\\\">\\r\\n                <div class=\\\"col-12 login\\\">\\r\\n                  <button type=\\\"button\\\" (click)=\\\"setPassword()\\\" class=\\\"btn btn-primary px-4\\\">Set Password</button>\\r\\n                </div>\\r\\n                <div class=\\\"col-12 mt-2\\\">\\r\\n                  <button type=\\\"button\\\"  [routerLink]=\\\"['/login']\\\" class=\\\"btn btn-link px-0\\\"><a href=\\\"javascript:void(0)\\\">Sign In</a></button>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\\\"card-block\\\" [ngBusy]=\\\"{busy: busy, message: 'Logging...', backdrop: true, minDuration: 600}\\\" *ngIf=\\\"!ifValid\\\">\\r\\n              <p class=\\\"text-muted\\\">{{errorMsg}}</p>\\r\\n            </div>\\r\\n\\t\\t      </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n<div class=\\\"passPopUp\\\">\\r\\n  <div class=\\\"dargPop\\\">\\r\\n    <p-dialog [modal]=\\\"true\\\" (onHide)=\\\"redirectLogin()\\\" [(visible)]=\\\"display\\\" *ngIf=\\\"result == 'success'\\\">\\r\\n      <h6>Password updated successfully!</h6>\\r\\n    </p-dialog>\\r\\n    <p-dialog header=\\\"Error\\\" [modal]=\\\"true\\\" [(visible)]=\\\"display\\\" *ngIf=\\\"result != 'success'\\\">\\r\\n      <p>{{result}}</p>\\r\\n    </p-dialog>\\r\\n  </div>\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/pages/password-reset/password_reset.component.html\n// module id = ./src/app/pages/password-reset/password_reset.component.html\n// module chunks = password_reset.module","import { Component, OnInit,ViewChild } from '@angular/core';\r\nimport { Router,ActivatedRoute } from '@angular/router';\r\nimport { LoopBackConfig, App_usersApi,App_loginApi }  from '../../../shared/loopback-sdk';\r\nimport {Subscription} from 'rxjs';\r\nimport {Observable} from 'rxjs/Observable';\r\nimport * as moment from 'moment';\r\nimport {Message} from 'primeng/primeng';\r\nimport {CookieService} from 'angular2-cookie/core';\r\ndeclare var $;\r\n@Component({\r\n  templateUrl: 'password_reset.component.html'\r\n})\r\nexport class PasswordResetComponent {\r\n\t@ViewChild('password') password:any;\r\n\t@ViewChild('cpassword') cpassword:any;\r\n\tresult: any;\r\n\tdisplay:boolean=false;\r\n\tpasswordNew:any;\r\n\tcpasswordNew:any;\r\n\tbusy:  Subscription;\r\n\tmsgs: Message[] = [];\r\n\ttoken:any;\r\n\tifValid:boolean;\r\n\tuid:any;\r\n\terrorMsg:any = \"Loading....\";\r\n\t\r\n\tconstructor(private route: ActivatedRoute, private router:Router,private appLoginApi:App_loginApi,private userApi:App_usersApi,private _cookieService:CookieService) {\r\n     \r\n\t\tlet loginFlagToken = this._cookieService.get('$LoopBackSDK$id');\r\n\t\tthis.token = this.route.snapshot.params[\"token\"];\r\n\t\t  \r\n\t\tif (loginFlagToken) {\r\n\t\t\tthis.router.navigate([\"/dashboard\"]);\r\n\t\t}\r\n\t\t\r\n\t\t// check if the token is valid\r\n\t\tlet obj = {\r\n\t\t\t\"token\":this.token\r\n\t\t}\r\n\t\tthis.appLoginApi.userResetOrForgotPassVerify(obj).subscribe(\r\n\t\t\tdata=>{\r\n\t\t\t\tif(data && data.length > 0){\r\n\t\t\t\t\tthis.ifValid = true;\r\n\t\t\t\t\tthis.uid = data[0]['uId'];\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.ifValid = false;\r\n\t\t\t\t\tthis.errorMsg = \"This url has expired, please try resetting your password again!\";\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t(err)=>{\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t()=>\r\n\t\t\t{\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t);\r\n\t}\r\n\r\n\tngOnInit(): void {\r\n\t\tconsole.log('ngOnInit');\r\n\t\tlet loginFlagToken = this._cookieService.get('$LoopBackSDK$id');\r\n\t\tif (loginFlagToken) {\r\n\t\t\tthis.router.navigate([\"/dashboard\"]);\r\n\t\t}\r\n\t}\r\n\r\n\tsetPassword(){\r\n\t\tif(this.passwordNew && this.password.valid){\r\n\t\t\tif(this.passwordNew == this.cpasswordNew && this.passwordNew!=\"\"){\r\n\t\t\t\tlet obj = {\r\n\t\t\t\t\t\"password\":this.passwordNew,\r\n\t\t\t\t\t\"id\":this.uid,\r\n\t\t\t\t\t\"token\":this.token\r\n\t\t\t\t};\r\n\t\t\t\tthis.appLoginApi.userResetOrForgotPassChange(obj).subscribe(\r\n\t\t\t\t\tdata=>{\r\n\t\t\t\t\t\tif(data && data.length > 0){\r\n\t\t\t\t\t\t\t// $.alert({\r\n\t\t\t\t\t\t\t// \ttitle: 'Status!',\r\n\t\t\t\t\t\t\t// \tcontent: 'Password updated successfully!',\r\n\t\t\t\t\t\t\t// });\r\n\t\t\t\t\t\t\tthis.display = true;\r\n\t\t\t\t\t\t\tthis.result = \"success\"\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t// $.alert({\r\n\t\t\t\t\t\t\t// \ttitle: 'Error!',\r\n\t\t\t\t\t\t\t// \tcontent: 'Something went wrong!',\r\n\t\t\t\t\t\t\t// });\r\n\t\t\t\t\t\t\tthis.display = true;\r\n\t\t\t\t\t\t\tthis.result = \"Something went wrong\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\t(err)=>{\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t},\r\n\t\t\t\t\t()=>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t}else{\r\n\t\t\t\t// $.alert({\r\n\t\t\t\t// \ttitle: 'Error!',\r\n\t\t\t\t// \tcontent: 'Password and confirm password does not match!',\r\n\t\t\t\t// });\r\n\t\t\t\tthis.display = true;\r\n\t\t\t\tthis.result = \"Password and confirm password does not match\"\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\t// $.alert({\r\n\t\t\t// \ttitle: 'Error!',\r\n\t\t\t// \tcontent: 'Please Enter Minimum 6 Character Password!',\r\n\t\t\t// });\r\n\t\t\tthis.display = true;\r\n\t\t\tthis.result = \"Please enter minimum 6 character password\"\r\n\t\t}\r\n\t}\r\n\r\n\tredirectLogin(){\r\n\t\tthis.router.navigate([\"/login\"]);\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/pages/password-reset/password_reset.component.ts","import { NgModule } from '@angular/core';\r\nimport { CommonModule }      from '@angular/common';\r\nimport { FormsModule } from \"@angular/forms\";\r\nimport { HttpModule } from \"@angular/http\";\r\nimport { PasswordResetComponent } from './password_reset.component';\r\nimport { PasswordResetRoutingModule } from './password_reset-routing.module';\r\nimport {MessagesModule} from 'primeng/primeng';\r\nimport {BusyModule} from 'angular2-busy';\r\nimport { DialogModule } from 'primeng/primeng';\r\n@NgModule({\r\n  imports: [\r\n    CommonModule, \r\n    FormsModule,\r\n    HttpModule,\r\n    MessagesModule,\r\n    PasswordResetRoutingModule,\r\n    BusyModule,\r\n    DialogModule\r\n  ],\r\n  declarations: [\r\n    PasswordResetComponent\r\n  ]\r\n})\r\nexport class PasswordResetModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/pages/password-reset/password_reset.module.ts"],"sourceRoot":"webpack:///"}