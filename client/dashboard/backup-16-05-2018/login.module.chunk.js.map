{"version":3,"sources":["./src/app/pages/login/login-routing.module.ts","./src/app/pages/login/login.component.html","./src/app/pages/login/login.component.ts","./src/app/pages/login/login.module.ts"],"names":[],"mappings":"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","file":"login.module.chunk.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { LoginComponent } from './login.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: LoginComponent,\r\n    data: {\r\n      title: 'Login'\r\n    }\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class LoginRoutingModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/pages/login/login-routing.module.ts","module.exports = \"<div class=\\\"app logincontainer flex-row align-items-center\\\">\\r\\n  <div class=\\\"container\\\">\\r\\n    <div class=\\\"row justify-content-center\\\">\\r\\n      <div class=\\\"col-md-5\\\">\\r\\n        <div class=\\\"card-group mb-0\\\">\\r\\n          <div class=\\\"card p-4\\\">\\r\\n            <div class=\\\"card-block\\\" [ngBusy]=\\\"{busy: busy, message: 'Logging...', backdrop: true, minDuration: 600}\\\">\\r\\n             <img src=\\\"assets/img/logo-login.png\\\">\\r\\n              <p class=\\\"text-muted\\\">Sign In to your account</p>\\r\\n              <!-- <p-messages [value]=\\\"msgs\\\"></p-messages> -->\\r\\n              <div class=\\\"input-group mb-2\\\">\\r\\n                <span class=\\\"input-group-addon\\\"><i class=\\\"icon-user\\\"></i></span>\\r\\n                <input type=\\\"text\\\" [(ngModel)]=\\\"username\\\" #uname=\\\"ngModel\\\"  class=\\\"form-control\\\" placeholder=\\\"Username\\\">\\r\\n              </div>\\r\\n              <div class=\\\"input-group mb-4\\\">\\r\\n                <span class=\\\"input-group-addon\\\"><i class=\\\"icon-lock\\\"></i></span>\\r\\n                <input type=\\\"password\\\" (keydown)=\\\"handleEnter($event)\\\" [(ngModel)]=\\\"password\\\" #pass=\\\"ngModel\\\"  class=\\\"form-control\\\" placeholder=\\\"Password\\\">\\r\\n              </div>\\r\\n              <br />\\r\\n              <div class=\\\"row\\\">\\r\\n                <div class=\\\"col-12 login\\\">\\r\\n                  <button type=\\\"button\\\" (click)=\\\"loginClick()\\\" class=\\\"btn btn-primary px-4\\\">Log in</button>\\r\\n                </div>\\r\\n                <div class=\\\"col-12 mt-2\\\">\\r\\n                    <button [hidden]=\\\"false\\\" type=\\\"button\\\" [routerLink]=\\\"['/password-forget']\\\" class=\\\"btn btn-link px-0  text-left\\\"><a href=\\\"javascript:void(0)\\\">Forgot password?</a></button>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n          <!--<div class=\\\"card card-inverse card-primary py-5 d-md-down-none\\\" style=\\\"width:44%\\\">\\r\\n            <div class=\\\"card-block text-center\\\">\\r\\n              <div>\\r\\n                <h2>Sign up</h2>\\r\\n                <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>\\r\\n                <button type=\\\"button\\\" class=\\\"btn btn-primary active mt-3\\\">Register Now!</button>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>-->\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n<div class=\\\"passPopUp\\\">\\r\\n  <div class=\\\"dargPop\\\">\\r\\n    <p-dialog header=\\\"Error\\\" [modal]=\\\"true\\\" [(visible)]=\\\"display\\\" *ngIf=\\\"msgs != 'success'\\\">\\r\\n      <p>{{msgs}}</p>\\r\\n    </p-dialog>\\r\\n  </div>\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/pages/login/login.component.html\n// module id = ./src/app/pages/login/login.component.html\n// module chunks = login.module","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { LoopBackConfig, LoopBackAuth, UserApi, App_loginApi }  from '../../../shared/loopback-sdk';\r\nimport {Subscription} from 'rxjs';\r\nimport {Observable} from 'rxjs/Observable';\r\nimport * as moment from 'moment';\r\nimport {Message} from 'primeng/primeng';\r\nimport {CookieService} from 'angular2-cookie/core';``\r\n\r\ndeclare var EventSource:any;\r\ndeclare var sdkPrefix;\r\n@Component({\r\n  templateUrl: 'login.component.html'\r\n})\r\nexport class LoginComponent {\r\n\tusername:any;\r\n\tpassword:any;\r\n\tbusy:  Subscription;\r\n\tmsgs: any;\r\n\tdisplay :any;\r\n\tuserDetails:any = {};\r\n\r\n\tconstructor(private router:Router,private userApi:UserApi, private _cookieService:CookieService,private login:App_loginApi, private loopAuth:LoopBackAuth) {\r\n\t\tlet loginFlagToken = this._cookieService.get(sdkPrefix+'id');\r\n\t\tconsole.log('loginFlagToken',loginFlagToken);\r\n\t\tif (loginFlagToken) {\r\n\t\t\tthis.router.navigate([\"/dashboard\"]);\r\n\t\t}\r\n\t}\r\n  \r\n\tngOnInit(): void {\r\n\t\tconsole.log('ngOnInit');\r\n\t\tlet loginFlagToken = this._cookieService.get(sdkPrefix+'id');\r\n\t\tif (loginFlagToken) {\r\n\t\t\tthis.router.navigate([\"/dashboard\"]);\r\n\t\t}\r\n    }\r\n\r\n\thandleEnter(event){\r\n\t\tif(event.keyCode == 13){\r\n\t\t\tthis.loginClick();\r\n\t\t}\r\n\t}\r\n\r\n    loginClick(){\r\n\t\tthis.router.navigate(['/dashboard', {}]);\r\n\t\tthis.hide();\r\n\t\tlet creds= {};\r\n\t\tif(this.validateEmail(this.username)){\r\n\t\t\tcreds = {email:this.username,password:this.password}\r\n\t\t}else{\r\n\t\t\tcreds = {username:this.username,password:this.password}\r\n\t\t}\r\n\t\t\r\n\t\tthis.busy = this.userApi.login(creds).subscribe((userRes)=>{\r\n\t\t\tif(userRes){\r\n\t\t\t\tthis.login.getUserDetails(creds).subscribe((userRes2)=>{\r\n\t\t\t\t\tthis.userDetails = this.loopAuth.getCurrentUserData();\r\n\t\t\t\t\tthis.userDetails.userDet = userRes2.user;\r\n\t\t\t\t\tthis.loopAuth.setUser(this.userDetails);\r\n\t\t\t\t\tthis.router.navigate(['/dashboard', {}]);\r\n\t\t\t\t},(userErr)=>{\r\n\t\t\t\t\tconsole.log('UserError',userErr);\r\n\t\t\t\t\tthis.password=null;\r\n\t\t\t\t\tthis.display = true;\r\n\t\t\t\t\tthis.msgs = 'Invalid Login.';\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},(userErr)=>{\r\n\t\t\tconsole.log('UserError',userErr);\r\n\t\t\tthis.password=null;\r\n\t\t\tthis.display = true;\r\n\t\t\tthis.msgs = 'Invalid Login.';\r\n\t\t});\r\n    }\r\n\r\n\t// show() {\r\n\t// \tthis.msgs.push({severity:'info', summary:'Invalid Login.', detail:''});\r\n\t// }\r\n\r\n\thide() {\r\n\t\tthis.msgs = [];\r\n\t}\r\n\r\n\tvalidateEmail(email) {\r\n\tvar re = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n\treturn re.test(email);\r\n\t}\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/pages/login/login.component.ts","import { NgModule } from '@angular/core';\r\nimport { CommonModule }      from '@angular/common';\r\nimport { FormsModule } from \"@angular/forms\";\r\nimport { HttpModule } from \"@angular/http\";\r\nimport { LoginComponent } from './login.component';\r\nimport { LoginRoutingModule } from './login-routing.module';\r\nimport {MessagesModule} from 'primeng/primeng';\r\nimport {BusyModule} from 'angular2-busy';\r\nimport { DialogModule } from 'primeng/primeng';\r\n@NgModule({\r\n  imports: [\r\n    CommonModule, \r\n    FormsModule,\r\n    HttpModule,\r\n    MessagesModule,\r\n    LoginRoutingModule,\r\n    BusyModule,\r\n    DialogModule\r\n  ],\r\n  declarations: [\r\n    LoginComponent\r\n  ]\r\n})\r\nexport class LoginModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/pages/login/login.module.ts"],"sourceRoot":"webpack:///"}